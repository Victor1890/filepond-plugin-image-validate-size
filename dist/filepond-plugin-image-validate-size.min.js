/*
 * FilePondPluginImageValidateSize 1.2.1
 * Licensed under MIT, https://opensource.org/licenses/MIT
 * Please visit https://pqina.nl/filepond for details.
 */

/* eslint-disable */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):e.FilePondPluginImageValidateSize=i()}(this,function(){"use strict";var e=function(e){var i=e.addFilter,t=e.utils,a=t.Type,n=t.replaceInString,I=t.isFile,l=function(i,L,t){return new Promise(function(T,A){var E,e=function(e){var i=e.width,t=e.height,a=L.minWidth,E=L.minHeight,_=L.maxWidth,n=L.maxHeight,I=L.minResolution,l=L.maxResolution,o=i*t;i<a||t<E?A("TOO_SMALL"):_<i||n<t?A("TOO_BIG"):null!==I&&o<I?A("TOO_LOW_RES"):null!==l&&l<o&&A("TOO_HIGH_RES"),T()};(E=i,new Promise(function(e,i){var t=document.createElement("img");t.src=URL.createObjectURL(E),t.onerror=function(e){clearInterval(a),i(e)};var a=setInterval(function(){t.naturalWidth&&t.naturalHeight&&(clearInterval(a),URL.revokeObjectURL(t.src),e({width:t.naturalWidth,height:t.naturalHeight}))},1)})).then(e).catch(function(){t?t(i,L).then(e).catch(function(){return A()}):A()})})};return i("LOAD_FILE",function(E,e){var _=e.query;return new Promise(function(e,t){if(I(E)&&/^image/.test(E.type)&&_("GET_ALLOW_IMAGE_VALIDATE_SIZE")){var a={minWidth:_("GET_IMAGE_VALIDATE_SIZE_MIN_WIDTH"),minHeight:_("GET_IMAGE_VALIDATE_SIZE_MIN_HEIGHT"),maxWidth:_("GET_IMAGE_VALIDATE_SIZE_MAX_WIDTH"),maxHeight:_("GET_IMAGE_VALIDATE_SIZE_MAX_HEIGHT"),minResolution:_("GET_IMAGE_VALIDATE_SIZE_MIN_RESOLUTION"),maxResolution:_("GET_IMAGE_VALIDATE_SIZE_MAX_RESOLUTION")},i=_("GET_IMAGE_VALIDATE_SIZE_MEASURE");l(E,a,i).then(function(){e(E)}).catch(function(e){var i=e?{TOO_SMALL:{label:_("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_SMALL"),details:_("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_SIZE")},TOO_BIG:{label:_("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_BIG"),details:_("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_SIZE")},TOO_LOW_RES:{label:_("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_LOW"),details:_("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_RESOLUTION")},TOO_HIGH_RES:{label:_("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_HIGH"),details:_("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_RESOLUTION")}}[e]:{label:_("GET_IMAGE_VALIDATE_SIZE_LABEL_FORMAT_ERROR"),details:E.type};t({status:{main:i.label,sub:e?n(i.details,a):i.details}})})}else e(E)})}),{options:{allowImageValidateSize:[!0,a.BOOLEAN],imageValidateSizeLabelFormatError:["Image type not supported",a.STRING],imageValidateSizeMeasure:[null,a.FUNCTION],imageValidateSizeMinResolution:[null,a.INT],imageValidateSizeMaxResolution:[null,a.INT],imageValidateSizeLabelImageResolutionTooLow:["Resolution is too low",a.STRING],imageValidateSizeLabelImageResolutionTooHigh:["Resolution is too high",a.STRING],imageValidateSizeLabelExpectedMinResolution:["Minimum resolution is {minResolution}",a.STRING],imageValidateSizeLabelExpectedMaxResolution:["Maximum resolution is {maxResolution}",a.STRING],imageValidateSizeMinWidth:[1,a.INT],imageValidateSizeMinHeight:[1,a.INT],imageValidateSizeMaxWidth:[65535,a.INT],imageValidateSizeMaxHeight:[65535,a.INT],imageValidateSizeLabelImageSizeTooSmall:["Image is too small",a.STRING],imageValidateSizeLabelImageSizeTooBig:["Image is too big",a.STRING],imageValidateSizeLabelExpectedMinSize:["Minimum size is {minWidth} × {minHeight}",a.STRING],imageValidateSizeLabelExpectedMaxSize:["Maximum size is {maxWidth} × {maxHeight}",a.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});